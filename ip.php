<?php
/*
    Copyright (C) 2017 Gynx

    OpusBot is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as
    published by the Free Software Foundation, either version 3 of the
    License, or (at your option) any later version.

    OpusBot is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Affero General Public License for more details.

    You should have received a copy of the GNU Affero General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.

*/
$ip_telegram = array(
    '149.154.167',
    '149.154.167.0',
    '149.154.167.1',
    '149.154.167.2',
    '149.154.167.3',
    '149.154.167.4',
    '149.154.167.5',
    '149.154.167.6',
    '149.154.167.7',
    '149.154.167.8',
    '149.154.167.9',
    '149.154.167.10',
    '149.154.167.11',
    '149.154.167.12',
    '149.154.167.13',
    '149.154.167.14',
    '149.154.167.15',
    '149.154.167.16',
    '149.154.167.17',
    '149.154.167.18',
    '149.154.167.19',
    '149.154.167.20',
    '149.154.167.21',
    '149.154.167.22',
    '149.154.167.23',
    '149.154.167.24',
    '149.154.167.25',
    '149.154.167.26',
    '149.154.167.27',
    '149.154.167.28',
    '149.154.167.29',
    '149.154.167.30',
    '149.154.167.31',
    '149.154.167.32',
    '149.154.167.33',
    '149.154.167.34',
    '149.154.167.35',
    '149.154.167.36',
    '149.154.167.37',
    '149.154.167.38',
    '149.154.167.39',
    '149.154.167.40',
    '149.154.167.41',
    '149.154.167.42',
    '149.154.167.43',
    '149.154.167.44',
    '149.154.167.45',
    '149.154.167.46',
    '149.154.167.47',
    '149.154.167.48',
    '149.154.167.49',
    '149.154.167.50',
    '149.154.167.51',
    '149.154.167.52',
    '149.154.167.53',
    '149.154.167.54',
    '149.154.167.55',
    '149.154.167.56',
    '149.154.167.57',
    '149.154.167.58',
    '149.154.167.59',
    '149.154.167.60',
    '149.154.167.61',
    '149.154.167.62',
    '149.154.167.63',
    '149.154.167.64',
    '149.154.167.65',
    '149.154.167.66',
    '149.154.167.67',
    '149.154.167.68',
    '149.154.167.69',
    '149.154.167.70',
    '149.154.167.71',
    '149.154.167.72',
    '149.154.167.73',
    '149.154.167.74',
    '149.154.167.75',
    '149.154.167.76',
    '149.154.167.77',
    '149.154.167.78',
    '149.154.167.79',
    '149.154.167.80',
    '149.154.167.81',
    '149.154.167.82',
    '149.154.167.83',
    '149.154.167.84',
    '149.154.167.85',
    '149.154.167.86',
    '149.154.167.87',
    '149.154.167.88',
    '149.154.167.89',
    '149.154.167.90',
    '149.154.167.91',
    '149.154.167.92',
    '149.154.167.93',
    '149.154.167.94',
    '149.154.167.95',
    '149.154.167.96',
    '149.154.167.97',
    '149.154.167.98',
    '149.154.167.99',
    '149.154.167.100',
    '149.154.167.101',
    '149.154.167.102',
    '149.154.167.103',
    '149.154.167.104',
    '149.154.167.105',
    '149.154.167.106',
    '149.154.167.107',
    '149.154.167.108',
    '149.154.167.109',
    '149.154.167.110',
    '149.154.167.111',
    '149.154.167.112',
    '149.154.167.113',
    '149.154.167.114',
    '149.154.167.115',
    '149.154.167.116',
    '149.154.167.117',
    '149.154.167.118',
    '149.154.167.119',
    '149.154.167.120',
    '149.154.167.121',
    '149.154.167.122',
    '149.154.167.123',
    '149.154.167.124',
    '149.154.167.125',
    '149.154.167.126',
    '149.154.167.127',
    '149.154.167.128',
    '149.154.167.129',
    '149.154.167.130',
    '149.154.167.131',
    '149.154.167.132',
    '149.154.167.133',
    '149.154.167.134',
    '149.154.167.135',
    '149.154.167.136',
    '149.154.167.137',
    '149.154.167.138',
    '149.154.167.139',
    '149.154.167.140',
    '149.154.167.141',
    '149.154.167.142',
    '149.154.167.143',
    '149.154.167.144',
    '149.154.167.145',
    '149.154.167.146',
    '149.154.167.147',
    '149.154.167.148',
    '149.154.167.149',
    '149.154.167.150',
    '149.154.167.151',
    '149.154.167.152',
    '149.154.167.153',
    '149.154.167.154',
    '149.154.167.155',
    '149.154.167.156',
    '149.154.167.157',
    '149.154.167.158',
    '149.154.167.159',
    '149.154.167.160',
    '149.154.167.161',
    '149.154.167.162',
    '149.154.167.163',
    '149.154.167.164',
    '149.154.167.165',
    '149.154.167.166',
    '149.154.167.167',
    '149.154.167.168',
    '149.154.167.169',
    '149.154.167.170',
    '149.154.167.171',
    '149.154.167.172',
    '149.154.167.173',
    '149.154.167.174',
    '149.154.167.175',
    '149.154.167.176',
    '149.154.167.177',
    '149.154.167.178',
    '149.154.167.179',
    '149.154.167.180',
    '149.154.167.181',
    '149.154.167.182',
    '149.154.167.183',
    '149.154.167.184',
    '149.154.167.185',
    '149.154.167.186',
    '149.154.167.187',
    '149.154.167.188',
    '149.154.167.189',
    '149.154.167.190',
    '149.154.167.191',
    '149.154.167.192',
    '149.154.167.193',
    '149.154.167.194',
    '149.154.167.195',
    '149.154.167.196',
    '149.154.167.197',
    '149.154.167.198',
    '149.154.167.199',
    '149.154.167.200',
    '149.154.167.201',
    '149.154.167.202',
    '149.154.167.203',
    '149.154.167.204',
    '149.154.167.205',
    '149.154.167.206',
    '149.154.167.207',
    '149.154.167.208',
    '149.154.167.209',
    '149.154.167.210',
    '149.154.167.211',
    '149.154.167.212',
    '149.154.167.213',
    '149.154.167.214',
    '149.154.167.215',
    '149.154.167.216',
    '149.154.167.217',
    '149.154.167.218',
    '149.154.167.219',
    '149.154.167.220',
    '149.154.167.221',
    '149.154.167.222',
    '149.154.167.223',
    '149.154.167.224',
    '149.154.167.225',
    '149.154.167.226',
    '149.154.167.227',
    '149.154.167.228',
    '149.154.167.229',
    '149.154.167.230',
    '149.154.167.231',
    '149.154.167.232',
    '149.154.167.233',
    '149.154.167.234',
    '149.154.167.235',
    '149.154.167.236',
    '149.154.167.237',
    '149.154.167.238',
    '149.154.167.239',
    '149.154.167.240',
    '149.154.167.241',
    '149.154.167.242',
    '149.154.167.243',
    '149.154.167.244',
    '149.154.167.245',
    '149.154.167.246',
    '149.154.167.247',
    '149.154.167.248',
    '149.154.167.249',
    '149.154.167.250',
    '149.154.167.251',
    '149.154.167.252',
    '149.154.167.253',
    '149.154.167.254',
    '149.154.167.255',
    '149.154.167.228',
    '188.114.102.113',
    '162.158.154.134',
    '149.154.167.99',
    '149.154.160.0/20',
    '149.154.160.0',
    '149.154.164.0/22',
    '149.154.164.0',
    '91.108.4.0/22',
    '91.108.4.0',
    '91.108.56.0/22',
    '91.108.56.0',
    '91.108.8.0/22',
    '91.108.8.0'
);
$e           = explode('.', $_SERVER['REMOTE_ADDR']);
if (!in_array($_SERVER['REMOTE_ADDR'], $ip_telegram) and ($e[3] >= 197 && $e[3] <= 233 && strpos($_SERVER['REMOTE_ADDR'], '149.154.167.') === 0) === false) {
    exit;
}
